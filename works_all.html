<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>portfolio - 作品紹介</title>
    <link rel="icon" href="./images/1x/favicon.png" />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- あしらいにアニメーションをつけるために以下を読み込む -->
    <script src="https://cdn.jsdelivr.net/npm/vivus@0.4.6/dist/vivus.min.js"></script>
    <!-- gsap cdn -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
  </head>
  <body id="works_all_top">
    <!-- カーソルの見た目を変更 -->
    <div id="cursor"></div>
    <div id="stalker"></div>

    <header>
      <!-- 共通：PCナビゲーション -->
      <nav class="pc_nav">
        <ul class="header_list">
          <li class="header_list_item">
            <a href="index.html">/ Home</a>
          </li>
          <li class="header_list_item">
            <a href="works_all.html">/ Works</a>
          </li>
          <li class="header_list_item">
            <a href="about_me.html">/ About</a>
          </li>
          <li class="header_list_item">
            <a href="index.html#c-form"
              ><img
                class="header_nav_btn"
                src="./images/1x/header_nav.svg"
                alt="contact button"
            /></a>
          </li>
        </ul>
      </nav>

      <!--共通：SPナビゲーション -->
      <div class="works_all_sp_btn"><span></span><span></span></div>
      <nav class="works_all_sp_nav">
        <ul class="works_all_sp_header_list">
          <li class="works_all_sp_header_list_item">
            <a href="index.html#top">/ Home</a>
          </li>
          <li class="works_all_sp_header_list_item">
            <a href="#works_all_top">/ Works</a>
          </li>
          <li class="works_all_sp_header_list_item">
            <a href="about_me.html">/ About</a>
          </li>
          <li class="works_all_sp_header_list_item">
            <a href="index.html#c-form"
              ><img
                class="works_all_sp_header_list_item"
                src="./images/1x/header_nav.svg"
                alt="contact button"
            /></a>
          </li>
        </ul>
      </nav>

      <!-- SP固定メールあいこん -->
      <a href="index.html#c-form"
        ><div id="mail" class="mail_icon">
          <img src="./images/1x/SP_mail_icon.svg" alt="メールのアイコン" />
        </div>
      </a>
    </header>

    <!-- 共通：FVスクロールバー -->
    <div class="scroll_down no_scroll">
      <p>SCROLL</p>
    </div>

    <!-- WOERKS全紹介ページ内容 -->
    <main class="works_all_wrapper">
      <h2 class="works_all_header"><span>Works</span></h2>
      <section class="works_all_section">
        <p class="works_all_discription">
          デザインを始めたばかりですが、ひとつひとつ丁寧に作っています。クリエイティブを通じて沢山の方と出会い、対話を重ねながら、共に形を作っていくことができたら嬉しいです。
        </p>

        <div class="flex_01">
          <div class="flex_01_inner">
            <div class="title_flex">
              <p class="works_all_title">#Website</p>
              <p class="pc_portfolio">ポートフォリオ</p>
            </div>
            <div class="sp_flex_01">
              <div class="flex_item card">
                <a href="website_01.html"
                  ><img
                    class="flex_item_img"
                    src="./images/1x/works_all01@2x-80.jpg"
                    alt="作品の画像1"
                /></a>
              </div>
              <p class="works_all_SPtitle">ポートフォリオ</p>
            </div>
            <p class="works_all_category">[ Category : design, coding ]</p>
          </div>

          <div class="flex_01_inner">
            <div class="title_flex">
              <p class="works_all_title">#Website</p>
              <p>Re LIFE様</p>
            </div>

            <div class="flex_item card">
              <a href="web_site02.html"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all02@2x-80.jpg"
                  alt="作品の画像2"
              /></a>
            </div>
            <p class="works_all_category">[ Category : design ]</p>
            <div class="title_flex">
              <p class="works_all_title">#Webbanner</p>
              <p>夏限定アイスクリーム</p>
            </div>
            <div class="flex_item card">
              <a href="banner_01.html"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all03@2x-80.jpg"
                  alt="作品の画像3"
              /></a>
            </div>
            <p class="works_all_category">[ Category : design ]</p>

            <!-- あしらい4 -->
            <div class="roop_wrapper04">
              <!-- <img
                class="roop_design04"
                src="./images/1x/roop_design04.svg"
                alt="∞マークの装飾"
              /> -->
              <svg
                id="layer04"
                class="roop_design03"
                data-name="レイヤー 2"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 1227.04 970.79"
              >
                <defs>
                  <style>
                    .roop04-1,
                    .roop04-2 {
                      fill: none;
                    }

                    .roop04-2 {
                      stroke: url(#_名称未設定グラデーション_126);
                      stroke-miterlimit: 10;
                      stroke-width: 1.01px;
                    }

                    .roop04-3 {
                      clip-path: url(#clippath04);
                    }
                  </style>
                  <clipPath id="clippath04">
                    <rect
                      class="roop04-1"
                      x="0"
                      width="1227.04"
                      height="970.79"
                    />
                  </clipPath>
                  <linearGradient
                    id="_名称未設定グラデーション_126"
                    data-name="名称未設定グラデーション 126"
                    x1="548.72"
                    y1="524.75"
                    x2="1807.24"
                    y2="524.75"
                    gradientTransform="translate(-544.98 111.1) rotate(-4.91)"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0" stop-color="#181e4d" />
                    <stop offset=".57" stop-color="#5a95b4" />
                    <stop offset="1" stop-color="#8aecff" />
                  </linearGradient>
                </defs>
                <g
                  id="_編集_ワイヤーフレーム"
                  data-name="編集_ワイヤーフレーム"
                >
                  <g class="roop04-3">
                    <path
                      class="roop04-2"
                      d="M1254.64,124.08c-125.66,112.66-220.35,256.73-329.73,386.23-91.16,107.92-193.75,206.75-311.54,282.37-117.79,75.61-251.46,127.49-389.78,137.94-40.04,3.03-83.74,4.49-116.72-23.04-22.73-18.97-37.19-48.13-38.82-78.26-2.2-40.76,18.5-80.24,47.71-107.75,85.41-80.44,227.16-89.77,336.38-103.95,127.85-16.6,254.79-30.44,380.75-58.88,125.42-28.33,249.22-64.29,370.54-107.67,30.63-10.95,61.32-22.08,91.66-33.79"
                    />
                  </g>
                </g>
              </svg>
            </div>
          </div>
        </div>

        <div class="flex_02">
          <div class="flex_02_inner works_hidden">
            <div class="title_flex">
              <p class="works_all_title">#Webbanner</p>
              <p>夏限定アイスクリーム</p>
            </div>

            <div class="flex_item card">
              <a href="#"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all04@2x-80.jpg"
                  alt="作品の画像4"
              /></a>
            </div>
            <p class="works_all_category">[ Category : design ]</p>
          </div>

          <div class="flex_02_inner works_hidden">
            <div class="title_flex">
              <p class="works_all_title">#Website</p>
              <p>DESIGN CAFE 様</p>
            </div>
            <div class="flex_item card">
              <a href="#"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all05@2x-80.jpg"
                  alt="作品の画像5"
              /></a>
            </div>
            <p class="works_all_category">[ Category : coding ]</p>
          </div>

          <div class="flex_02_inner">
            <div class="title_flex">
              <p class="works_all_title">#Webbanner</p>
              <p>新作ハンバーガー</p>
            </div>
            <div class="flex_item card">
              <a href="banner_02.html"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all_pophbg-80.jpg"
                  alt="作品の画像6"
              /></a>
            </div>
            <p class="works_all_category">[ Category : design ]</p>
          </div>

          <div class="flex_02_inner">
            <div class="title_flex">
              <p class="works_all_title">#Webbanner</p>
              <p>新作ハンバーガー</p>
            </div>
            <div class="flex_item card">
              <a href="banner_03.html"
                ><img
                  class="flex_item_img"
                  src="./images/1x/works_all07-80.jpg"
                  alt="作品の画像7"
              /></a>
            </div>
            <p class="works_all_category">[ Category : design ]</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="works_all_footer" id="c-form">
      <!-- あしらい5 -->
      <div class="roop_wrapper05">
        <!-- <img
          class="roop_design05"
          src="./images/1x/roop_design05.svg"
          alt="∞マークの装飾"
        /> -->
        <svg
          id="layer05"
          class="roop_design05"
          data-name="レイヤー 2"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 1347 735"
        >
          <defs>
            <style>
              .roop05-1,
              .roop05-2 {
                fill: none;
              }

              .roop05-2 {
                stroke: url(#_名称未設定グラデーション_12);
                stroke-miterlimit: 10;
                stroke-width: 1.08px;
              }

              .roop05-3 {
                clip-path: url(#clippath05);
              }
            </style>
            <clipPath id="clippath05">
              <rect class="roop05-1" width="1347" height="735" />
            </clipPath>
            <linearGradient
              id="_名称未設定グラデーション_12"
              data-name="名称未設定グラデーション 12"
              x1="258.5"
              y1="-31.51"
              x2="1817.83"
              y2="-31.51"
              gradientTransform="translate(1602.62 512.04) rotate(-172.1) scale(1 -1)"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset="0" stop-color="#8aecff" />
              <stop offset=".19" stop-color="#88e8fc" />
              <stop offset=".33" stop-color="#83dff4" />
              <stop offset=".46" stop-color="#7acfe6" />
              <stop offset=".58" stop-color="#6db8d2" />
              <stop offset=".69" stop-color="#5d9ab8" />
              <stop offset=".8" stop-color="#497699" />
              <stop offset=".9" stop-color="#314c75" />
              <stop offset="1" stop-color="#181e4d" />
            </linearGradient>
          </defs>
          <g id="_編集_ワイヤーフレーム" data-name="編集_ワイヤーフレーム">
            <g class="roop05-3">
              <path
                class="roop05-2"
                d="M-119.81-64.11C30.7,44.17,140.36,179.43,269.39,302.18c107.53,102.31,229.98,196.93,372.97,271.24,142.99,74.31,307.41,127.88,480.31,144.13,50.05,4.7,104.78,8.17,147.92-15.18,29.73-16.09,49.72-41.82,53.68-69.05,5.35-36.85-18.12-73.65-53.02-100.03-102.06-77.11-279.33-92.5-415.47-110.7-159.37-21.3-317.76-40.06-474-72.01-155.57-31.82-308.62-70.48-458.09-115.74-37.74-11.43-75.53-23.02-112.87-35.12"
              />
            </g>
          </g>
        </svg>
      </div>
    </footer>

    <!-- 共通：jquery -->
    <script>
      //画像にふしぎな動きをつける ここから
      const cards = document.querySelectorAll(".card");

      // イベントを登録する関数
      function addEffects() {
        cards.forEach((card) => {
          card.addEventListener("mousemove", handleMouseMove);
          card.addEventListener("mouseleave", handleMouseLeave);
        });
      }

      // イベントを解除する関数
      function removeEffects() {
        cards.forEach((card) => {
          card.removeEventListener("mousemove", handleMouseMove);
          card.removeEventListener("mouseleave", handleMouseLeave);

          // 念のためリセットしておく
          gsap.set(card, { rotationX: 0, rotationY: 0, scale: 1 });
          gsap.set(card.querySelector(".flex_item_img"), {
            scale: 1,
            opacity: 1,
            // filter: "grayscale(100%) blur(0px)",
          });
        });
      }

      // 実際の動き（分離しておくと add/remove が楽）
      function handleMouseMove(e) {
        const card = e.currentTarget;
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;

        const rotateX = (y / rect.height) * -40;
        const rotateY = (x / rect.width) * 40;

        gsap.to(card, {
          rotationX: rotateX,
          rotationY: rotateY,
          scale: 1.2,
          duration: 0.25,
          ease: "power2.out",
        });

        gsap.to(card.querySelector(".flex_item_img"), {
          opacity: 0.9,
          filter: "blur(3px)",
          duration: 0.25,
          ease: "power2.out",
        });
      }

      function handleMouseLeave(e) {
        const card = e.currentTarget;

        gsap.to(card, {
          rotationX: 0,
          rotationY: 0,
          scale: 1,
          duration: 0.4,
          ease: "power2.out",
        });

        gsap.to(card.querySelector(".flex_item_img"), {
          scale: 1,
          opacity: 1,
          filter: "grayscale(100%) blur(0px)",
          duration: 0.4,
          ease: "power2.out",
        });
      }

      // メディアクエリ監視
      const mm = window.matchMedia("(min-width: 1151px)");

      // 初期化
      function checkWidth(e) {
        if (e.matches) {
          // PC幅以上 → エフェクト追加
          addEffects();
        } else {
          // SP幅 → エフェクト解除
          removeEffects();
        }
      }

      // 初回チェック
      checkWidth(mm);

      // 画面幅が変わったときも監視
      mm.addEventListener("change", checkWidth);

      //gsap　画像アニメーション　koko
      // document.querySelectorAll(".card").forEach((card) => {
      //   card.addEventListener("mousemove", (e) => {
      //     const rect = card.getBoundingClientRect();
      //     const x = e.clientX - rect.left - rect.width / 2;
      //     const y = e.clientY - rect.top - rect.height / 2;

      //     const rotateX = (y / rect.height) * -40;
      //     const rotateY = (x / rect.width) * 40;

      //     gsap.to(card, {
      //       rotationX: rotateX,
      //       rotationY: rotateY,
      //       scale: 1.2,
      //       duration: 0.25,
      //       ease: "power2.out",
      //     });

      //     gsap.to(card.querySelector(".flex_item_img"), {
      //       opacity: 0.9,
      //       filter: "blur(3px)",
      //       duration: 0.25,
      //       ease: "power2.out",
      //     });
      //   });

      //   card.addEventListener("mouseleave", () => {
      //     gsap.to(card, {
      //       rotationX: 0,
      //       rotationY: 0,
      //       scale: 1,
      //       duration: 0.4,
      //       ease: "power2.out",
      //     });

      //     gsap.to(card.querySelector(".flex_item_img"), {
      //       scale: 1,
      //       opacity: 1,
      //       filter: "grayscale(100%) blur(0px)",
      //       duration: 0.4,
      //       ease: "power2.out",
      //     });
      //   });
      // });
      //画像にふしぎな動きをつける ここまで

      //メールアイコンをふわっと表示させて一定の場所で非表示、上スクロールで再表示
      document.addEventListener("DOMContentLoaded", function () {
        const pageTop = document.querySelector("#mail");
        const form = document.querySelector("#c-form");
        // const scrollThreshold = 100;

        function scrollTop() {
          window.scroll({
            top: 0,
            behavior: "smooth",
          });
        }

        function handleScroll() {
          const formTop = form.offsetTop;
          const scrollPosition = window.scrollY + window.innerHeight;

          // #c-formに到達したら非表示、それ以外は表示
          if (scrollPosition >= formTop) {
            pageTop.style.opacity = "0";
          } else {
            pageTop.style.opacity = "1";
          }
        }

        pageTop.addEventListener("click", scrollTop);
        window.addEventListener("scroll", handleScroll);
      });

      //カーソルの見た目を変更
      var cursor = $("#cursor");
      //ちょっと遅れてついてくるストーカー要素の指定
      var stalker = $("#stalker");

      //mousemoveイベントでカーソル要素を移動させる
      $(document).on("mousemove", function (e) {
        //カーソルの座標位置を取得
        var x = e.clientX;
        var y = e.clientY;
        //カーソル要素のcssを書き換える用
        cursor.css({
          opacity: "1",
          top: y + "px",
          left: x + "px",
        });

        //ストーカー要素のcssを書き換える用
        setTimeout(function () {
          stalker.css({
            opacity: "0.4",
            top: y + "px",
            left: x + "px",
          });
        }, 140); //カーソルより遅れる時間を指定
      });

      //aタグホバー
      $("a").on({
        mouseenter: function () {
          //activeクラス付与
          cursor.addClass("active");
          stalker.addClass("active");
        },
        mouseleave: function () {
          cursor.removeClass("active");
          stalker.removeClass("active");
        },
      });

      //バーガーメニュー
      $(function () {
        $(".works_all_sp_btn").on("click", function () {
          // メニュー閉じたり開いたり
          $(".works_all_sp_btn").toggleClass("open");
          $(".works_all_sp_nav").fadeToggle();
          $("body").toggleClass("menu_fix");

          //コンセプトやメールアイコンを非表示

          $(".mail_icon").toggleClass("invisible");
          $(".scroll_down").toggleClass("invisible");
        });
        //リンク飛んだ後元通りにする
        $(".works_all_sp_header_list_item a").on("click", function () {
          $("body").removeClass("menu_fix");
          $(".works_all_sp_nav").fadeToggle();
          $(".works_all_sp_btn").removeClass("open");

          $(".mail_icon").removeClass("invisible");
          $(".scroll_down").removeClass("invisible");
        });

        //あしらい4
        const vivus04 = new Vivus("layer04", {
          duration: 350,
          start: "autostart",
          type: "scenario",
          pathTimingFunction: Vivus.EASE_OUT,
        });

        function playForward04() {
          vivus04.play(1, function () {
            setTimeout(playBackward04, 350);
          });
        }

        function playBackward04() {
          vivus04.play(-1, function () {
            setTimeout(playForward04, 350);
          });
        }

        playForward04();

        //あしらい5
        const vivus05 = new Vivus("layer05", {
          duration: 350,
          start: "autostart",
          type: "scenario",
          pathTimingFunction: Vivus.EASE_OUT,
        });

        function playForward05() {
          vivus05.play(1, function () {
            setTimeout(playBackward05, 350);
          });
        }

        function playBackward05() {
          vivus05.play(-1, function () {
            setTimeout(playForward05, 350);
          });
        }

        playForward05();
      });
    </script>
  </body>
</html>
